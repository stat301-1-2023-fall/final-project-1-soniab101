---
title: "Progress Memo 2"
subtitle: |
  | Final Project 
  | Data Science 1 with R (STAT 301-1)
author: "Sonia Bhatia"
date: today

format:
  html:
    toc: true
    embed-resources: true
    
execute:
  echo: false
  warning: false

from: markdown+emoji 
---



::: {.callout-tip icon=false}

## Github Repo Link

My github link is below.

[https://github.com/stat301-1-2023-fall/final-project-1-soniab101](https://github.com/stat301-1-2023-fall/final-project-1-soniab101)

:::

##Load in Data and Packages
```{r}
library(tidyverse)
library(skimr)
WorldCupMatches <- read_csv("data/WorldCupMatches.csv")
WorldCupPlayers <- read_csv("data/WorldCupPlayers.csv")
WorldCups <- read_csv("data/WorldCups.csv")

```

# summary of the datasets

# Investigating the data:
```{r}
glimpse(WorldCups)
glimpse(WorldCupMatches)

#skim(WorldCups)
#skim(WorldCupMatches)


```

# Cleaning the Data
I noticed that the team name Germany was coded both as Germany and also Germany FR. After investigating the meaning of this, I realized that Germany FR was West Germany before the country was reunified. I decided to recode Germany FR as Germany, since that is how the country is considered today, and their overall world cup wins are measured for the country as a whole officially. 

```{r}
WorldCupsCleaned <- mutate_if(WorldCups,
                                is.character,
                                stringr::str_replace_all, pattern = "Germany FR", replacement = "Germany")

WorldCupMatchesCleaned <- mutate_if(WorldCupMatches,
                                is.character,
                                stringr::str_replace_all, pattern = "Germany FR", replacement = "Germany")

WorldCupsCleaned  |>  summarize(n=n(),.by=Winner) 

```


# Univariate Analysis
I am investigating the distribution of the number of World Cups each of these countries has won.
```{r}

# WorldCupsCleaned  |>  mutate(n=n(),.by=Winner) |> select(Winner, n)

WorldCupsCleaned |> ggplot(aes(x= Winner)) + geom_bar(fill = "deepskyblue3") + labs(
  title = "Distribution of World Cup Wins by Country", x = "Country", y = "Total Wins")

```



#Bivariate Analysis
I am exploring the 
```{r}
WorldCupsCleaned |> ggplot(aes(x=Year,y=GoalsScored)) + geom_line(color = "darkorchid") + labs(title = "Total Goals Scored in the World Cup over the Years", x = "Year", y = "Total Goals")
```


# Summary of Progress


# Analysis 1
Performance trend in top 4 teams that have won the most world cup matches over time

explore the data, missingness, univariate, bivariate, multivariate analysis

```{r}

```


# Example join:
```{r}
# Example data frames
world_cup_matches <- data.frame(
  Year = c(2018, 2018, 2014, 2014),
  Match = c("Final", "Semifinal", "Final", "Semifinal"),
  Team = c("France", "Croatia", "Germany", "Argentina"),
  Score = c(4, 2, 1, 0)
)

world_cups <- data.frame(
  Year = c(2018, 2014),
  Host = c("Russia", "Brazil"),
  Winner = c("France", "Germany")
)

# Perform a left join based on the "Year" column
merged_data <- left_join(world_cup_matches, world_cups, by = "Year")

# Print the merged data
print(merged_data)
```

